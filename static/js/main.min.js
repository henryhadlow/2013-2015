!function(a,b){"function"==typeof define&&define.amd?define("smoothScroll",b(a)):"object"==typeof exports?module.exports=b(a):a.smoothScroll=b(a)}(window||this,function(a){"use strict";var b,c={},d=!!document.querySelector&&!!a.addEventListener,e={speed:500,easing:"easeInOutCubic",offset:0,updateURL:!0,callbackBefore:function(){},callbackAfter:function(){}},f=function(a,b,c){if("[object Object]"===Object.prototype.toString.call(a))for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&b.call(c,a[d],d,a);else for(var e=0,f=a.length;f>e;e++)b.call(c,a[e],e,a)},g=function(a,b){var c={};return f(a,function(b,d){c[d]=a[d]}),f(b,function(a,d){c[d]=b[d]}),c},h=function(a,b){for(var c=b.charAt(0);a&&a!==document;a=a.parentNode)if("."===c){if(a.classList.contains(b.substr(1)))return a}else if("#"===c){if(a.id===b.substr(1))return a}else if("["===c&&a.hasAttribute(b.substr(1,b.length-2)))return a;return!1},i=function(a){for(var b,c=String(a),d=c.length,e=-1,f="",g=c.charCodeAt(0);++e<d;){if(b=c.charCodeAt(e),0===b)throw new InvalidCharacterError("Invalid character: the input contains U+0000.");f+=b>=1&&31>=b||127==b||0===e&&b>=48&&57>=b||1===e&&b>=48&&57>=b&&45===g?"\\"+b.toString(16)+" ":b>=128||45===b||95===b||b>=48&&57>=b||b>=65&&90>=b||b>=97&&122>=b?c.charAt(e):"\\"+c.charAt(e)}return f},j=function(a,b){var c;return"easeInQuad"===a&&(c=b*b),"easeOutQuad"===a&&(c=b*(2-b)),"easeInOutQuad"===a&&(c=.5>b?2*b*b:-1+(4-2*b)*b),"easeInCubic"===a&&(c=b*b*b),"easeOutCubic"===a&&(c=--b*b*b+1),"easeInOutCubic"===a&&(c=.5>b?4*b*b*b:(b-1)*(2*b-2)*(2*b-2)+1),"easeInQuart"===a&&(c=b*b*b*b),"easeOutQuart"===a&&(c=1- --b*b*b*b),"easeInOutQuart"===a&&(c=.5>b?8*b*b*b*b:1-8*--b*b*b*b),"easeInQuint"===a&&(c=b*b*b*b*b),"easeOutQuint"===a&&(c=1+--b*b*b*b*b),"easeInOutQuint"===a&&(c=.5>b?16*b*b*b*b*b:1+16*--b*b*b*b*b),c||b},k=function(a,b,c){var d=0;if(a.offsetParent)do d+=a.offsetTop,a=a.offsetParent;while(a);return d=d-b-c,d>=0?d:0},l=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)},m=function(a){return a&&"object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(a):{}},n=function(a,b){history.pushState&&(b||"true"===b)&&history.pushState({pos:a.id},"",window.location.pathname+a)};c.animateScroll=function(b,c,d){var f=g(f||e,d||{}),h=m(b?b.getAttribute("data-options"):null);f=g(f,h),c="#"+i(c.substr(1));var o,p,q,r=document.querySelector(c),s=document.querySelector("[data-scroll-header]"),t=null===s?0:s.offsetHeight+s.offsetTop,u=a.pageYOffset,v=k(r,t,parseInt(f.offset,10)),w=v-u,x=l(),y=0;n(c,f.updateURL);var z=function(d,e,g){var h=a.pageYOffset;(d==e||h==e||a.innerHeight+h>=x)&&(clearInterval(g),r.focus(),f.callbackAfter(b,c))},A=function(){y+=16,p=y/parseInt(f.speed,10),p=p>1?1:p,q=u+w*j(f.easing,p),a.scrollTo(0,Math.floor(q)),z(q,v,o)},B=function(){f.callbackBefore(b,c),o=setInterval(A,16)};0===a.pageYOffset&&a.scrollTo(0,0),B()};var o=function(a){var d=h(a.target,"[data-scroll]");d&&"a"===d.tagName.toLowerCase()&&(a.preventDefault(),c.animateScroll(d,d.hash,b,a))};return c.destroy=function(){b&&(document.removeEventListener("click",o,!1),b=null)},c.init=function(a){d&&(c.destroy(),b=g(e,a||{}),document.addEventListener("click",o,!1))},c}),function(a,b){"use strict";function c(a,b){for(var c=0,d=a.length,e=[];d>c;c++)e[c]=b(a[c],c);return e}function d(a){return a}function e(){}function f(){return!0}function g(a,f){var j=this,l=b;f=f||{},void 0!==a&&("string"==typeof a?(f.selector=a,a=void 0):"undefined"==typeof a.length&&(f=a,a=void 0)),this.viewportHeight=l.documentElement.clientHeight,this.selector=f.selector||".delayed-image-load",this.className=f.className||"image-replace",this.gif=l.createElement("img"),this.gif.src="data:image/gif;base64,R0lGODlhEAAJAIAAAP///wAAACH5BAEAAAAALAAAAAAQAAkAAAIKhI+py+0Po5yUFQA7",this.gif.className=this.className,this.gif.alt="",this.lazyloadOffset=f.lazyloadOffset||0,this.scrollDelay=f.scrollDelay||250,this.onResize=f.hasOwnProperty("onResize")?f.onResize:!0,this.lazyload=f.hasOwnProperty("lazyload")?f.lazyload:!1,this.scrolled=!1,this.availablePixelRatios=f.availablePixelRatios||[1,2],this.availableWidths=f.availableWidths||h,this.onImagesReplaced=f.onImagesReplaced||e,this.widthsMap={},this.refreshPixelRatio(),this.widthInterpolator=f.widthInterpolator||d,this.gif.removeAttribute("height"),this.gif.removeAttribute("width"),"function"!=typeof this.availableWidths&&("number"==typeof this.availableWidths.length?this.widthsMap=g.createWidthsMap(this.availableWidths,this.widthInterpolator,this.devicePixelRatio):(this.widthsMap=this.availableWidths,this.availableWidths=i(this.availableWidths)),this.availableWidths=this.availableWidths.sort(function(a,b){return a-b})),a?(this.divs=c(a,d),this.selector=null):this.divs=c(l.querySelectorAll(this.selector),d),this.ready(f.onReady),this.changeDivsToEmptyImages(this.divs),k(function(){j.init()})}var h,i,j,k=a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||function(b){a.setTimeout(b,1e3/60)};j=function(){return b.addEventListener?function(a,b,c){return a.addEventListener(b,c,!1)}:function(a,b,c){return a.attachEvent("on"+b,c)}}(),h=[96,130,165,200,235,270,304,340,375,410,445,485,520,555,590,625,660,695,736],i="function"==typeof Object.keys?Object.keys:function(a){var b,c=[];for(b in a)c.push(b);return c},g.prototype.scrollCheck=function(){var b=this,d=0,e=[];this.scrolled&&(c(this.divs,function(a){b.isPlaceholder(a)&&(++d,b.isThisElementOnScreen(a)&&e.push(a))}),0===d&&a.clearInterval(b.interval),this.changeDivsToEmptyImages(e),this.scrolled=!1)},g.prototype.init=function(){var a=this;this.initialized=!0;var b=f;this.lazyload?(this.registerScrollEvent(),this.scrolled=!0,a.scrollCheck(),b=function(b){return a.isPlaceholder(b)===!1}):this.checkImagesNeedReplacing(this.divs),this.onResize&&this.registerResizeEvent(b),this.onReady()},g.prototype.ready=function(a){this.onReady=a||e},g.prototype.createGif=function(a){if(a.className.match(new RegExp("(^| )"+this.className+"( |$)")))return a;var b=a.getAttribute("data-class"),c=a.getAttribute("data-width"),d=this.gif.cloneNode(!1);return c&&(d.width=c,d.setAttribute("data-width",c)),d.className=(b?b+" ":"")+this.className,d.setAttribute("data-src",a.getAttribute("data-src")),d.setAttribute("alt",a.getAttribute("data-alt")||this.gif.alt),a.parentNode.replaceChild(d,a),d},g.prototype.changeDivsToEmptyImages=function(a){var b=this;c(a,function(c,d){a[d]=b.createGif(c)}),this.initialized&&this.checkImagesNeedReplacing(a)},g.prototype.isPlaceholder=function(a){return a.src===this.gif.src},g.prototype.isThisElementOnScreen=function(a){var b=0,c=g.getPageOffset()+this.lazyloadOffset;if(a.offsetParent)do b+=a.offsetTop;while(a=a.offsetParent);return b<this.viewportHeight+c},g.prototype.checkImagesNeedReplacing=function(a,b){var d=this;b=b||f,this.isResizing||(this.isResizing=!0,this.refreshPixelRatio(),c(a,function(a){b(a)&&d.replaceImagesBasedOnScreenDimensions(a)}),this.isResizing=!1,this.onImagesReplaced(a))},g.prototype.replaceImagesBasedOnScreenDimensions=function(a){var b,c;c=g.getNaturalWidth(a),b="function"==typeof this.availableWidths?this.availableWidths(a):this.determineAppropriateResolution(a),a.width=b,!this.isPlaceholder(a)&&c>=b||(a.src=this.changeImageSrcToUseNewImageDimensions(a.getAttribute("data-src"),b),a.removeAttribute("width"),a.removeAttribute("height"))},g.prototype.determineAppropriateResolution=function(a){return g.getClosestValue(a.getAttribute("data-width")||a.parentNode.clientWidth,this.availableWidths)},g.prototype.refreshPixelRatio=function(){this.devicePixelRatio=g.getClosestValue(g.getPixelRatio(),this.availablePixelRatios)},g.prototype.changeImageSrcToUseNewImageDimensions=function(a,b){return a.replace(/{width}/g,g.transforms.width(b,this.widthsMap)).replace(/{pixel_ratio}/g,g.transforms.pixelRatio(this.devicePixelRatio))},g.getPixelRatio=function(b){return(b||a).devicePixelRatio||1},g.createWidthsMap=function(a,b,c){for(var d={},e=a.length;e--;)d[a[e]]=b(a[e],c);return d},g.transforms={pixelRatio:function(a){return 1===a?"":"-"+a+"x"},width:function(a,b){return b[a]||a}},g.getClosestValue=function(a,b){var c=b.length,d=b[c-1];for(a=parseFloat(a);c--;)a<=b[c]&&(d=b[c]);return d},g.prototype.registerResizeEvent=function(b){var c=this;j(a,"resize",function(){c.checkImagesNeedReplacing(c.divs,b)})},g.prototype.registerScrollEvent=function(){var c=this;this.scrolled=!1,this.interval=a.setInterval(function(){c.scrollCheck()},c.scrollDelay),j(a,"scroll",function(){c.scrolled=!0}),j(a,"resize",function(){c.viewportHeight=b.documentElement.clientHeight,c.scrolled=!0})},g.getPageOffsetGenerator=function(c){return c?function(){return a.pageYOffset}:function(){return b.documentElement.scrollTop}},g.getNaturalWidth=function(){return"naturalWidth"in new Image?function(a){return a.naturalWidth}:function(a){var c=b.createElement("img");return c.src=a.src,c.width}}(),g.getPageOffset=g.getPageOffsetGenerator(Object.prototype.hasOwnProperty.call(a,"pageYOffset")),g.applyEach=c,"object"==typeof module&&"object"==typeof module.exports?module.exports=exports=g:"function"==typeof define&&define.amd?define(function(){return g}):"object"==typeof a&&(a.Imager=g)}(window,document),smoothScroll.init(),new Imager({availableWidths:[192,960,1152,1920],lazyload:!0});